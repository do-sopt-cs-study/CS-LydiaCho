## 가상 메모리

- Physical memory의 크기와 무관하게 메모리 공간을 활용할 수 있는 가상의 메모리 공간
- 메모리와 보조기억장치에 나누어 할당
- MMU (Memory Management Unit)을 통해 논리 주소, 물리 주소 나눠서 사용

### 메모리 관리 기법

- 연속 메모리 기법 : 프로그램 전체가 메모리에 연속적으로 할당
  - 고정 분할 기법 : 고정된 파티션에 따라 메모리 분할 / `내부 단편화 발생`
  - 동적 분할 기법 : 필요한 크기 만큼의 파티션이 동적으로 생성되어 할당 / `외부 단편화 발생`
- 불연속 메모리 기법 : 프로그램이 서로 다른 주소 공간에 분리되어 할당
  - paging 방식 사용
  - segmentation 방식 사용
- **내부 단편화 ?**
  - 파티션의 크기가 프로세스 단위 크기보다 커서 메모리가 남지만 이를 다른 프로세스가 활용할 수 없는 경우
- **외부 단편화?**
  - 남아있는 메모리의 크기가 실행하고자 하는 프로세스보다 크지만, 연속적이지 않은 공간에 존재하여 실행하지 못하는 현상

### 페이징

- 고정된 사이즈의 페이지 단위로 프로세스 주소 공간을 나눔 ⇒ 물리적 메모리에 불연속적으로 할당
  ⇒ 연속적이지 않기 때문에 **외부 단편화 문제 해결**
- page : 프로세스를 고정 크기로 분할하는 블록 단위
- frame : 메모리를 고정 크기로 분할하는 블록 단위
- Page, Frame을 매핑시키는 **Paging Table**
  - 페이지 번호, 해당 페이지에 할당된 프레임의 시작 물리 주소 저장

**하지만 내부 단편화는 해결하지 못함**

- 프로세스 크기가 페이지 크기의 배수가 아닐 경우 발생
- 페이지 단위 크기가 클 수록 내부 단편화 크게 발생
- 페이지 단위를 줄일 경우, 페이지 매핑 과정이 길어져 효율성이 떨어짐

### 세그멘테이션

- segment : 서로 다른 크기의 논리적 블록
- 크기가 각기 다른 논리적인 세그먼트 단위로 주소 공간을 나눔 ⇒ 물리적 메모리에 연속적으로 할당
- 각기 다른 크기의 세그먼트를 메모리의 빈 공간에 할당
  ⇒ 필요한 공간에 맞춰 메모리를 할당하기 떄문에 내부 단편화 문제 해결
- Segment를 매핑시키는 **Segment Table**

**하지만 외부 단편화 문제는 해결하지 못함**

| Paging             | Segmentation       |
| ------------------ | ------------------ |
| 고정 크기          | 가변 크기          |
| 내부 단편화 미해결 | 외부 단편화 미해결 |
